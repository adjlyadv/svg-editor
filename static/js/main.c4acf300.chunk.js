(this["webpackJsonpsvg-editor"]=this["webpackJsonpsvg-editor"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(t,e,s){},,function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){"use strict";s.r(e);var o,n=s(0),c=s(1),i=s.n(c),a=s(8),r=s.n(a),l=(s(17),s(5)),d=s(3),u=s(2),p=new function t(){var e=this;Object(d.a)(this,t),this.editorInfo={width:800,height:600,left:0,top:0},this.mouseState={type:!1,drugging:!1,pathid:0,nodeid:0},this.pathList=[],this.setEditorInfo=function(t,e){},this.setNodes=function(t,s,o){e.pathList[t].nodes[s]=o},this.setMouseState=function(t,s,o,n){e.mouseState.pathid=o,e.mouseState.nodeid=n,e.mouseState.type=t,e.mouseState.drugging=s},this.setStateInfo=function(t,s,o){switch(s){case"X":var n=e.pathList[0].nodes[0];n.posX=Number(o),e.setNodes(0,0,n);break;case"Y":var c=e.pathList[0].nodes[0];c.posY=Number(o),e.setNodes(0,0,c);break;case"fill":e.pathList[t].fill=o;break;case"strokeWidth":e.pathList[t].strokeWidth=Number(o);break;case"stroke":e.pathList[t].stroke=o}},Object(u.k)(this),this.pathList.push({id:0,nodes:[{posX:157.5,posY:105.5,ctrPosX:180,ctrPosY:95},{posX:227,posY:74,ctrPosX:148.8,ctrPosY:76.5}],strokeWidth:5,stroke:"#000000",fill:"none"}),this.pathList.push({id:1,nodes:[{posX:257.5,posY:205.5,ctrPosX:280,ctrPosY:195},{posX:327,posY:174,ctrPosX:248.8,ctrPosY:176.5}],strokeWidth:5,stroke:"#000000",fill:"none"})},h=s(9),j=s(11),m=s(10),b=s(4),f=Object(b.a)((function(t){var e=p.pathList[t.pathId].nodes[t.id],s=function(e,s){e?(p.setMouseState(!0,!0,t.pathId,t.id),console.log("\u6309\u4e0b\u53bb\u951a\u70b9\u5c5e\u4e8e\u8def\u5f84"+t.pathId+"\u7684\u951a\u70b9"+t.id)):(p.setMouseState(!1,!0,t.pathId,t.id),console.log("\u6309\u4e0b\u53bb\u63a7\u5236\u70b9\u5c5e\u4e8e\u8def\u5f84"+t.pathId+"\u7684\u951a\u70b9"+t.id))};return Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)("circle",{onMouseDown:function(t){return s(!0)},cx:e.posX,cy:e.posY,stroke:"#55f",r:"4"}),Object(n.jsx)("line",{x1:e.posX,y1:e.posY,x2:e.ctrPosX,y2:e.ctrPosY,stroke:"#555",strokeWidth:"1"}),Object(n.jsx)("circle",{onMouseDown:function(t){return s(!1)},cx:e.ctrPosX,cy:e.ctrPosY,stroke:"#55f",r:"4"})]})})),O=Object(b.a)(o=function(t){Object(j.a)(s,t);var e=Object(m.a)(s);function s(t){var o;return Object(d.a)(this,s),(o=e.call(this,t)).getD=function(t){for(var e="",s=0;s<t.length;s++)e+=0===s?"M ".concat(t[s].posX," ").concat(t[s].posY," C ").concat(t[s].ctrPosX," ").concat(t[s].ctrPosY," "):"".concat(t[s].ctrPosX," ").concat(t[s].ctrPosY," ").concat(t[s].posX," ").concat(t[s].posY);return console.log(e),e},o.state={editing:!1},o}return Object(h.a)(s,[{key:"render",value:function(){var t=this.props.path,e=t.id,s=t.nodes;if(!this.state.editing)return Object(n.jsxs)(c.Fragment,{children:[s.map((function(t,s){return Object(n.jsx)(f,{node:t,id:s,pathId:e})})),Object(n.jsx)("path",{d:this.getD(s),strokeWidth:this.props.path.strokeWidth,stroke:this.props.path.stroke,fill:this.props.path.fill})]})}}]),s}(i.a.Component))||o;s(19);var g=function(){Object(c.useEffect)((function(){var e;if(t){var s=null===t||void 0===t||null===(e=t.current)||void 0===e?void 0:e.getBoundingClientRect();s&&(p.editorInfo.top=s.top,p.editorInfo.left=s.left)}}),[]);var t=Object(c.useRef)(null),e=p.editorInfo,s=p.pathList,o=p.mouseState.pathid,i=p.mouseState.nodeid,a=Object(c.useState)(s[p.mouseState.pathid].nodes[p.mouseState.nodeid]),r=Object(l.a)(a,2),d=r[0],u=r[1];Object(c.useEffect)((function(){p.setNodes(p.mouseState.pathid,p.mouseState.nodeid,d)}),[d]);return Object(n.jsx)("div",{className:"editor-container",children:Object(n.jsx)("svg",{ref:t,className:"editor-svg",width:e.width,height:e.height,onMouseDown:function(t){t.stopPropagation(),o=p.mouseState.pathid,i=p.mouseState.nodeid;var e=p.pathList[o].nodes[i];u({posX:e.posX,posY:e.posY,ctrPosX:e.ctrPosX,ctrPosY:e.ctrPosY})},onMouseMove:function(t){if(t.stopPropagation(),p.mouseState.drugging){var e=function(t){var e=p.editorInfo;return{x:t.clientX-e.left,y:t.clientY-e.top}}(t),s=e.x,o=e.y;p.mouseState.type?u({posX:s,posY:o,ctrPosX:d.ctrPosX,ctrPosY:d.ctrPosY}):u({posX:d.posX,posY:d.posY,ctrPosX:s,ctrPosY:o})}},onMouseUp:function(t){t.stopPropagation(),p.setMouseState(!1,!1,o,i)},children:s.map((function(t){return Object(n.jsx)(O,{path:t})}))})})},x=(s(20),function(){var t=function(t){var e=t.target.name,s=t.target.value;p.setStateInfo(0,e,s)},e=p.pathList[0];return Object(n.jsx)(c.Fragment,{children:Object(n.jsxs)("div",{className:"statusContainer",children:[Object(n.jsx)("h4",{children:"\u72b6\u6001\u680f"}),Object(n.jsxs)("label",{className:"statusinput",children:[Object(n.jsx)("span",{children:"PositionX:"}),Object(n.jsx)("input",{type:"number",name:"X",defaultValue:e.nodes[0].posX,onChange:t})]}),Object(n.jsxs)("label",{className:"statusinput",children:[Object(n.jsx)("span",{children:"PositionY:"}),Object(n.jsx)("input",{type:"number",name:"Y",defaultValue:e.nodes[0].posY,onChange:t})]}),Object(n.jsxs)("label",{className:"statusinput",children:[Object(n.jsx)("span",{children:"fill:"}),Object(n.jsx)("input",{type:"color",name:"fill",defaultValue:e.fill,onChange:t})]}),Object(n.jsxs)("label",{className:"statusinput",children:[Object(n.jsx)("span",{children:"stroke Width:"}),Object(n.jsx)("input",{type:"number",name:"strokeWidth",min:"0",max:"40",defaultValue:e.strokeWidth,onChange:t})]}),Object(n.jsxs)("label",{className:"statusinput",children:[Object(n.jsx)("span",{children:"stroke:"}),Object(n.jsx)("input",{type:"color",name:"stroke",defaultValue:e.stroke,onChange:t})]})]})})}),v=(s(21),s(22),s.p+"static/media/circle.292ce4e1.svg"),k=s.p+"static/media/pen.4de46a1c.svg",P=s.p+"static/media/mouse.dfeff54d.svg",X=s.p+"static/media/line.86048c7a.svg",Y=s.p+"static/media/rectangle.d8ea8f58.svg",N=function(t){function e(e){t.set(e.target.id)}return Object(n.jsxs)("div",{className:"toolbar",children:[Object(n.jsx)("div",{className:"toolitem",onClick:e,children:Object(n.jsx)("img",{className:"mouse"===t.currentTool?"itmeIconselect":"itmeIcon",id:"mouse",alt:"mouse",src:P})}),Object(n.jsx)("div",{className:"toolitem",onClick:e,children:Object(n.jsx)("img",{className:"circle"===t.currentTool?"itmeIconselect":"itmeIcon",id:"circle",alt:"circle",src:v})}),Object(n.jsx)("div",{className:"toolitem",onClick:e,children:Object(n.jsx)("img",{className:"rectangle"===t.currentTool?"itmeIconselect":"itmeIcon",id:"rectangle",alt:"rectangle",src:Y})}),Object(n.jsx)("div",{className:"toolitem",onClick:e,children:Object(n.jsx)("img",{className:"line"===t.currentTool?"itmeIconselect":"itmeIcon",id:"line",alt:"line",src:X})}),Object(n.jsx)("div",{className:"toolitem",onClick:e,children:Object(n.jsx)("img",{className:"pen"===t.currentTool?"itmeIconselect":"itmeIcon",id:"pen",alt:"pen",src:k})})]})},I=(s(23),function(){var t=Object(c.useState)("mouse"),e=Object(l.a)(t,2),s=e[0],o=e[1];return Object(n.jsxs)("div",{className:"basic-container",children:[Object(n.jsx)(N,{currentTool:s,set:o}),Object(n.jsx)(g,{}),Object(n.jsx)(x,{})]})});s(24);var S=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(I,{})})},C=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,26)).then((function(e){var s=e.getCLS,o=e.getFID,n=e.getFCP,c=e.getLCP,i=e.getTTFB;s(t),o(t),n(t),c(t),i(t)}))};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(S,{})}),document.getElementById("root")),C()}],[[25,1,2]]]);
//# sourceMappingURL=main.c4acf300.chunk.js.map